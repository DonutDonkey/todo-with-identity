<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{Title}}</title>
    
<!-- Setting up dependencies -->
    <script src="https://unpkg.com/htmx.org@1.9.11" 
            integrity="sha384-0gxUXCCR8yv9FM2b+U3FDbsKthCI66oH5IA9fHppQq9DDMHuMauqq1ZHBpJxQ0J0" 
            crossorigin="anonymous">
    </script>
    
    <link rel="stylesheet" href="/content/style/main.css" type="text/css">
</head>

<nav class="navbar" hx-get="/account" hx-trigger="load" hx-target="#identity" hx-swap="innerHTML">
    <ul>
        <li><img id="logo" class="ui-logo" src="/content/img/logo.svg"></li>
        <li><a href="">Home</a></li>
        <li><a href="">About</a></li>
        <li id="identity" class="right"></li>
    </ul>
    <div id="identity"></div> 
</nav>

<body id="content">
    {{Content}}
</body>
</html>

<script>
    const state = {};

    document.addEventListener("DOMContentLoaded", () => {
//        Object.assign(state, JSON.parse(localStorage.getItem('state')) || new {
//            saveToLocalStorage: (key, value) => {
//                localStorage.setItem(key, JSON.stringify(value));
//            },
//            saveToSessionStorage: (key, value) => {
//                sessionStorage.setItem(key, JSON.stringify(value));
//            },
//            saveToCookie: (key, value, expirationDays) => {
//                const expirationDate = new Date();
//                expirationDate.setDate(expirationDate.getDate() + expirationDays);
//                document.cookie = `${key}=${JSON.stringify(value)}; expires=${expirationDate.toUTCString()}; path=/`
//            }}
//        );
        console.log("Content Loaded");
    });
    
    document.addEventListener('submit', (event) => {
        console.log("Content unloaded");
        //       state.saveToLocalStorage('state', state);
    });
</script>